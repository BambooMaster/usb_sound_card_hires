/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2025 BambooMaster
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */

/**
 * @file fir.h
 * @author BambooMaster (https://misskey.hakoniwa-project.com/@BambooMaster)
 * @brief usb_sound_card_hires
 * @version 0.4-interpolation
 * @date 2025-04-22
 * 
 */

#ifndef FIR_H
#define FIR_H

#define FIR_1ST_140DB_TAPS 402
#define FIR_2ND_140DB_TAPS 56
#define FIR_1ST_BLOCK_SIZE (48 + 1)
#define FIR_2ND_BLOCK_SIZE (FIR_1ST_BLOCK_SIZE * 2)

#define FIR_1ST_140DB_96_TAPS 208
#define FIR_2ND_140DB_96_TAPS 26
#define FIR_1ST_96_BLOCK_SIZE (96 + 1)
#define FIR_2ND_96_BLOCK_SIZE (FIR_1ST_96_BLOCK_SIZE * 2)

static const float fir_1st_140db[FIR_1ST_140DB_TAPS] = {
  5.917282238e-07,1.422760192e-06,5.423332254e-07,-3.305523933e-06,-7.095768069e-06,
  -5.802278338e-06,-3.474663046e-08,2.886821676e-06,-6.757067581e-07,-4.057737897e-06,
  -6.098192102e-07,4.246160643e-06,1.457379085e-06,-4.795972018e-06,-2.796977014e-06,
  5.099970622e-06,4.382192401e-06,-5.191143373e-06,-6.284527899e-06,4.911488759e-06,
  8.438502846e-06,-4.170517968e-06,-1.079109006e-05,2.860917903e-06,1.325208632e-05,
  -8.884329077e-07,-1.57057184e-05,-1.827288088e-06, 1.80119805e-05,5.352120752e-06,
  -1.999986671e-05,-9.722765753e-06,2.147748819e-05,1.494701246e-05,-2.222981493e-05,
  -2.099271114e-05, 2.20268048e-05,2.778323505e-05,-2.062901331e-05,-3.519113307e-05,
  1.779664126e-05,4.303439709e-05,-1.329812403e-05,-5.107173274e-05,6.923195087e-06,
  5.900281758e-05,1.505575824e-06,-6.647004921e-05,-1.21230396e-05,7.305583131e-05,
  2.499980474e-05,-7.829807873e-05,-4.013978105e-05,8.168754721e-05,5.745602175e-05,
  -8.268898091e-05,-7.67671736e-05,8.074957441e-05,9.778289677e-05,-7.531895244e-05,
  -0.0001200992192, 6.58640929e-05,0.0001431866258,-5.189959484e-05,-0.0001663971052,
  3.300218668e-05,0.0001889582927,-8.842172065e-06,-0.0002099839185,-2.079331534e-05,
  0.0002284845687,5.597639029e-05,-0.0002433810441,-9.661135846e-05,0.0002535271051,
  0.0001424125076,-0.0002577366249,-0.0001928868442,0.0002548120392,0.0002473168715,
  -0.0002435788047,-0.0003047466453,0.0002229294769, 0.000363981846,-0.0001918608759,
  -0.0004235873348,0.0001495204051,0.0004818954621,-9.525263158e-05,-0.000537022308,
  2.864626003e-05, 0.000586894108, 5.04240561e-05,-0.0006292774342,-0.0001417546155,
  0.0006618188345,0.0002447717416,-0.0006820976269,-0.0003585018858,0.0006876811967,
  0.0004815467109,-0.0006761880941,-0.0006120657781,0.0006453554961,0.0007477661129,
   -0.00059311738,-0.000885909074,0.0005176787381, 0.001023323042,-0.0004175976792,
  -0.001156434882,  0.00029185944, 0.001281307428,-0.0001399541943,-0.001393693266,
  -3.805062079e-05, 0.001489101793,0.0002414458868,-0.001562878955,-0.0004688249901,
   0.001610295498,0.0007180368993,-0.001626648358,-0.0009861526778, 0.001607370796,
   0.001269448316,-0.001548144617,-0.001563395723, 0.001445025206, 0.001862680074,
  -0.001294560614,-0.002161224838, 0.001093916711, 0.002452241722,-0.0008409952861,
  -0.002728290856,0.0005345511017, 0.002981364727,-0.0001742946188,-0.003202978754,
  -0.0002390076552, 0.003384284209,0.0007034532609,-0.003516183933,-0.001215932658,
   0.003589462023, 0.001772077056,-0.003594915615,-0.002366223605,  0.00352348364,
   0.002991389949,-0.003366379533,-0.003639271017,  0.00311521464, 0.004300252534,
  -0.002762101823,-0.004963439424, 0.002299726242, 0.005616672337,-0.001721398905,
  -0.006246547215, 0.001021077973, 0.006838442758,-0.0001933195308,-0.007376514841,
  -0.0007668526378, 0.007843625732, 0.001864149468,-0.008221214637, -0.00310334377,
    0.00848907046, 0.004489819054,-0.008624874055,-0.006030328106, 0.008603497408,
    0.00773416087,-0.008395831101,-0.009614904411, 0.007966885343,  0.01169319358,
  -0.007272614166, -0.01400103234, 0.006254654843,  0.01658916101,-0.004830953665,
   -0.01953985356, 0.002878646599,  0.02299110219,-0.0002002577094, -0.02718576416,
  -0.003548804438,  0.03258257732, 0.009035253897, -0.04014442116, -0.01774609089,
    0.05225512013,  0.03381529078, -0.07677863538, -0.07461839169,   0.1635902971,
     0.4356361628,   0.4356361628,   0.1635902971, -0.07461839169, -0.07677863538,
    0.03381529078,  0.05225512013, -0.01774609089, -0.04014442116, 0.009035253897,
    0.03258257732,-0.003548804438, -0.02718576416,-0.0002002577094,  0.02299110219,
   0.002878646599, -0.01953985356,-0.004830953665,  0.01658916101, 0.006254654843,
   -0.01400103234,-0.007272614166,  0.01169319358, 0.007966885343,-0.009614904411,
  -0.008395831101,  0.00773416087, 0.008603497408,-0.006030328106,-0.008624874055,
   0.004489819054,  0.00848907046, -0.00310334377,-0.008221214637, 0.001864149468,
   0.007843625732,-0.0007668526378,-0.007376514841,-0.0001933195308, 0.006838442758,
   0.001021077973,-0.006246547215,-0.001721398905, 0.005616672337, 0.002299726242,
  -0.004963439424,-0.002762101823, 0.004300252534,  0.00311521464,-0.003639271017,
  -0.003366379533, 0.002991389949,  0.00352348364,-0.002366223605,-0.003594915615,
   0.001772077056, 0.003589462023,-0.001215932658,-0.003516183933,0.0007034532609,
   0.003384284209,-0.0002390076552,-0.003202978754,-0.0001742946188, 0.002981364727,
  0.0005345511017,-0.002728290856,-0.0008409952861, 0.002452241722, 0.001093916711,
  -0.002161224838,-0.001294560614, 0.001862680074, 0.001445025206,-0.001563395723,
  -0.001548144617, 0.001269448316, 0.001607370796,-0.0009861526778,-0.001626648358,
  0.0007180368993, 0.001610295498,-0.0004688249901,-0.001562878955,0.0002414458868,
   0.001489101793,-3.805062079e-05,-0.001393693266,-0.0001399541943, 0.001281307428,
    0.00029185944,-0.001156434882,-0.0004175976792, 0.001023323042,0.0005176787381,
  -0.000885909074, -0.00059311738,0.0007477661129,0.0006453554961,-0.0006120657781,
  -0.0006761880941,0.0004815467109,0.0006876811967,-0.0003585018858,-0.0006820976269,
  0.0002447717416,0.0006618188345,-0.0001417546155,-0.0006292774342, 5.04240561e-05,
   0.000586894108,2.864626003e-05,-0.000537022308,-9.525263158e-05,0.0004818954621,
  0.0001495204051,-0.0004235873348,-0.0001918608759, 0.000363981846,0.0002229294769,
  -0.0003047466453,-0.0002435788047,0.0002473168715,0.0002548120392,-0.0001928868442,
  -0.0002577366249,0.0001424125076,0.0002535271051,-9.661135846e-05,-0.0002433810441,
  5.597639029e-05,0.0002284845687,-2.079331534e-05,-0.0002099839185,-8.842172065e-06,
  0.0001889582927,3.300218668e-05,-0.0001663971052,-5.189959484e-05,0.0001431866258,
   6.58640929e-05,-0.0001200992192,-7.531895244e-05,9.778289677e-05,8.074957441e-05,
  -7.67671736e-05,-8.268898091e-05,5.745602175e-05,8.168754721e-05,-4.013978105e-05,
  -7.829807873e-05,2.499980474e-05,7.305583131e-05,-1.21230396e-05,-6.647004921e-05,
  1.505575824e-06,5.900281758e-05,6.923195087e-06,-5.107173274e-05,-1.329812403e-05,
  4.303439709e-05,1.779664126e-05,-3.519113307e-05,-2.062901331e-05,2.778323505e-05,
   2.20268048e-05,-2.099271114e-05,-2.222981493e-05,1.494701246e-05,2.147748819e-05,
  -9.722765753e-06,-1.999986671e-05,5.352120752e-06, 1.80119805e-05,-1.827288088e-06,
  -1.57057184e-05,-8.884329077e-07,1.325208632e-05,2.860917903e-06,-1.079109006e-05,
  -4.170517968e-06,8.438502846e-06,4.911488759e-06,-6.284527899e-06,-5.191143373e-06,
  4.382192401e-06,5.099970622e-06,-2.796977014e-06,-4.795972018e-06,1.457379085e-06,
  4.246160643e-06,-6.098192102e-07,-4.057737897e-06,-6.757067581e-07,2.886821676e-06,
  -3.474663046e-08,-5.802278338e-06,-7.095768069e-06,-3.305523933e-06,5.423332254e-07,
  1.422760192e-06,5.917282238e-07
};

static const float fir_2nd_140db[FIR_2ND_140DB_TAPS] = {
  -2.092749583e-06,-1.168159815e-05,-3.479427687e-05,-6.63220053e-05,-7.336960698e-05,
   7.59144541e-06,0.0002336430625, 0.000572461111,0.0008194601396,0.0006127010565,
  -0.0003670867882,-0.002040308667,-0.003630615305,-0.003757623723,-0.001138204825,
   0.004279100802,  0.01041036937,  0.01323929429, 0.008615842089,-0.004822650924,
   -0.02312048711, -0.03673941642, -0.03361934423,-0.004821360577,  0.04981476814,
     0.1192069128,   0.1837620139,   0.2226908207,   0.2226908207,   0.1837620139,
     0.1192069128,  0.04981476814,-0.004821360577, -0.03361934423, -0.03673941642,
   -0.02312048711,-0.004822650924, 0.008615842089,  0.01323929429,  0.01041036937,
   0.004279100802,-0.001138204825,-0.003757623723,-0.003630615305,-0.002040308667,
  -0.0003670867882,0.0006127010565,0.0008194601396, 0.000572461111,0.0002336430625,
   7.59144541e-06,-7.336960698e-05,-6.63220053e-05,-3.479427687e-05,-1.168159815e-05,
  -2.092749583e-06
};

static const float fir_1st_140db_96[FIR_1ST_140DB_96_TAPS] = {
  5.164720278e-07,  6.6815943e-07,-2.055134246e-06,-7.567683497e-06,-9.266740562e-06,
  -1.42949591e-06,8.187924323e-06, 4.49482377e-06,-9.736358152e-06,-1.064913431e-05,
  9.111486179e-06,1.865866398e-05,-5.095219421e-06,-2.770333049e-05,-3.723095915e-06,
  3.611669308e-05,1.832536327e-05,-4.153525151e-05,-3.900967204e-05,4.098965655e-05,
  6.503393524e-05,-3.117852248e-05,-9.431038779e-05,8.894114217e-06, 0.000123199774,
  2.840430898e-05,-0.000146483173,-8.192030509e-05,0.0001575669739,0.0001508217538,
  -0.0001489632996,-0.0002316078753,0.0001130583187,0.0003176494502, -4.3147822e-05,
  -0.0003990197729,-6.533008855e-05,0.0004627166199,0.0002134730457,-0.0004933502059,
  -0.0003976437438, 0.000474342989,0.0006084372872,-0.0003896091948,-0.0008300598711,
  0.0002256431326,  0.00104030862,2.615021913e-05,-0.001211272553,-0.0003670619335,
   0.001310881577,0.0007889269618,-0.001305258367,-0.001272420748, 0.001161892898,
   0.001786211971,-0.0008533140062,-0.002287031617,0.0003612115688, 0.002721081953,
  0.0003195800527,-0.003026627935,-0.001177390339, 0.003137952182, 0.002180881333,
  -0.002990412526,-0.003277407493, 0.002526312135, 0.004392808769,-0.001701283501,
  -0.005432938226, 0.000490636623, 0.006286918186, 0.001104842988,-0.006831943989,
  -0.003054054454, 0.006939381827, 0.005292160437,-0.006481586955,-0.007718825713,
    0.00533863809,  0.01019803528,-0.003403993789, -0.01255905814,0.0005877252552,
    0.01459750906, 0.003184678266, -0.01607432216,-0.007981141098,  0.01670821942,
    0.01388564147, -0.01615227573, -0.02104865946,  0.01393162459,  0.02980228141,
  -0.009277814999, -0.04095523804,0.0006383130094,  0.05671861395,  0.01614480838,
   -0.08477562666, -0.05842690542,   0.1748241484,   0.4216248989,   0.4216248989,
     0.1748241484, -0.05842690542, -0.08477562666,  0.01614480838,  0.05671861395,
  0.0006383130094, -0.04095523804,-0.009277814999,  0.02980228141,  0.01393162459,
   -0.02104865946, -0.01615227573,  0.01388564147,  0.01670821942,-0.007981141098,
   -0.01607432216, 0.003184678266,  0.01459750906,0.0005877252552, -0.01255905814,
  -0.003403993789,  0.01019803528,  0.00533863809,-0.007718825713,-0.006481586955,
   0.005292160437, 0.006939381827,-0.003054054454,-0.006831943989, 0.001104842988,
   0.006286918186, 0.000490636623,-0.005432938226,-0.001701283501, 0.004392808769,
   0.002526312135,-0.003277407493,-0.002990412526, 0.002180881333, 0.003137952182,
  -0.001177390339,-0.003026627935,0.0003195800527, 0.002721081953,0.0003612115688,
  -0.002287031617,-0.0008533140062, 0.001786211971, 0.001161892898,-0.001272420748,
  -0.001305258367,0.0007889269618, 0.001310881577,-0.0003670619335,-0.001211272553,
  2.615021913e-05,  0.00104030862,0.0002256431326,-0.0008300598711,-0.0003896091948,
  0.0006084372872, 0.000474342989,-0.0003976437438,-0.0004933502059,0.0002134730457,
  0.0004627166199,-6.533008855e-05,-0.0003990197729, -4.3147822e-05,0.0003176494502,
  0.0001130583187,-0.0002316078753,-0.0001489632996,0.0001508217538,0.0001575669739,
  -8.192030509e-05,-0.000146483173,2.840430898e-05, 0.000123199774,8.894114217e-06,
  -9.431038779e-05,-3.117852248e-05,6.503393524e-05,4.098965655e-05,-3.900967204e-05,
  -4.153525151e-05,1.832536327e-05,3.611669308e-05,-3.723095915e-06,-2.770333049e-05,
  -5.095219421e-06,1.865866398e-05,9.111486179e-06,-1.064913431e-05,-9.736358152e-06,
   4.49482377e-06,8.187924323e-06,-1.42949591e-06,-9.266740562e-06,-7.567683497e-06,
  -2.055134246e-06,  6.6815943e-07,5.164720278e-07
};

static const float fir_2nd_140db_96[FIR_2ND_140DB_96_TAPS] = {
  -6.066088463e-05,-7.715509855e-05,0.0006530374521, 0.001338715898,-0.002210046165,
  -0.007252377924, 0.003054316156,  0.02414457314, 0.004312014673, -0.06218433753,
   -0.04311292619,   0.1684530228,   0.4129567444,   0.4129567444,   0.1684530228,
   -0.04311292619, -0.06218433753, 0.004312014673,  0.02414457314, 0.003054316156,
  -0.007252377924,-0.002210046165, 0.001338715898,0.0006530374521,-7.715509855e-05,
  -6.066088463e-05
};

void dsp_init(void);
void __not_in_flash_func(core0_task)(void);
void __not_in_flash_func(core1_main)(void);

#endif
